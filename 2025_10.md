# 🧮 入門題：便利商店找錢系統

## 🏷 題目描述
你在便利商店打工，顧客買完東西後，你要幫他找錢。  
收銀機會顯示顧客付了多少錢、商品總價是多少。  
請寫出一個程式，**計算應找的金額**。

---

## 📥 輸入說明
輸入兩個整數：
1. 第一行：商品總價（單位：元）
2. 第二行：顧客付款金額（單位：元）

---

## 📤 輸出說明
輸出一行：
- 若付款金額足夠，輸出「應找 XX 元」
- 若付款金額不足，輸出「金額不足，還差 XX 元」

---

## 💡 範例輸入與輸出

### 範例 1
輸入：
```
85
100
```
輸出：
```
應找 15 元
```

### 範例 2
輸入：
```
120
100
```
輸出：
```
金額不足，還差 20 元
```

---

## 💻 Python 範例程式
```python
price = int(input("商品總價："))
paid = int(input("付款金額："))

if paid >= price:
    print(f"應找 {paid - price} 元")
else:
    print(f"金額不足，還差 {price - paid} 元")
```

---

# 💡 進階題：便利商店智慧找錢系統（面額分解版）

## 🏷 題目描述
在進階版本中，你要讓程式幫忙**自動分配找錢的面額**。  
收銀機能使用的面額有：50 元、10 元、5 元、1 元。  
請輸出每種面額應找的張（枚）數。

---

## 📥 輸入說明
輸入兩個整數：
1. 第一行：商品總價（單位：元）
2. 第二行：顧客付款金額（單位：元）

---

## 📤 輸出說明
- 若付款金額不足，輸出「金額不足，還差 XX 元」
- 若金額足夠，輸出：
  ```
  應找 XX 元
  50 元 X 枚
  10 元 X 枚
  5 元 X 枚
  1 元 X 枚
  ```

---

## 💡 範例輸入與輸出

### 範例 1
輸入：
```
85
200
```
輸出：
```
應找 115 元
50 元 2 枚
10 元 1 枚
5 元 1 枚
```

### 範例 2
輸入：
```
95
100
```
輸出：
```
應找 5 元
5 元 1 枚
```

---

## 💻 Python 範例程式
```python
price = int(input())
paid = int(input())
change = paid - price

if change < 0:
    print(f"金額不足，還差 {-change} 元")
else:
    print(f"應找 {change} 元")
    for coin in [50, 10, 5, 1]:
        count = change // coin
        if count > 0:
            print(f"{coin} 元 {count} 枚")
            change %= coin
```

# 🧪 中高階題：成績計算與彙整系統（加權、捨去最低、缺交懲處、期末調分）

## 🏷 題目描述
你要為班級設計一個「學期成績彙整系統」。  
每位學生有多次作業與小考，還有期中、期末。系統需依**評分政策**計算每生的學期成績，並輸出班級彙整報表。

---

## 📏 評分政策（固定）
1. **權重**  
   - 作業（HW）：40%（共有 5 次，**取最佳 4 次**平均）  
   - 小考（Quiz）：20%（共有 3 次，**取最佳 2 次**平均）  
   - 期中（Midterm）：20%（單次分數）  
   - 期末（Final）：20%（單次分數）

2. **缺交與遲交處理**  
   - 輸入若為 `-1` 代表**缺交**，在計算前先視為 0 分。  
   - 作業：因為「取最佳 4 次」，**先將 5 次作業排序後丟掉 1 次最低**（缺交 0 分通常會被丟掉）。  
   - 若作業中有超過 1 次為 `-1`（也就是**第二次缺交起**），每多 1 次，**期末總分再額外扣 5 分**（下限為 0 分）。

3. **期末調分（全班統一）**  
   - 若全班「原始平均分」低於 70，則**等額加分**使全班平均提升到 70（每人同加同減，**最高不超過 100 分**）。  
   - 若原始平均 ≥ 70，則**不調分**。

4. **等第與及格**  
   - 使用調分後的最終分數判定：  
     - A：90–100  
     - B：80–89  
     - C：70–79  
     - D：60–69  
     - E：0–59（不及格）  
   - 及格門檻為 **60 分**（以調分後成績為準）。

---

## 📥 輸入說明
- 第一行：整數 `S`（學生數）
- 接著對每位學生輸入一行，共 `S` 行，格式：
  ```
  姓名 HW1 HW2 HW3 HW4 HW5 Q1 Q2 Q3 Mid Final
  ```
  其中每個分數為整數 0–100，`-1` 代表缺交（視為 0）。

---

## 📤 輸出說明
1. 先輸出每位學生一行（以原始 → 調分 → 等第），格式：
   ```
   姓名  原始=XX.X  調分=YY.Y  等第=Z  (及格/不及格)
   ```
2. 其後輸出班級統計：
   ```
   班級原始平均=AA.A  調分平均=BB.B  調分加分=Δ（若無調分則輸出 0）
   最高=NN.N(姓名)  最低=MM.M(姓名)
   Top3: 姓1(分), 姓2(分), 姓3(分)
   ```

> **小數點**：所有平均或總分建議四捨五入到 **小數點一位**。

---

## 💡 範例輸入
```
4
Wang 100 80 90 70 60  75 88 92  83 91
Lin  85  -1 70 60 90  65 72 68  75 80
Chen 50  40  30 -1 60  55 60 50  58 62
Liu  100 100 100 100 100  100 100 100  90 95
```

### 範例說明（計算要點）
- Wang  
  - 作業：5 次取最佳 4 次 → (100, 90, 80, 70) 平均  
  - 小考：取最佳 2 次 → (92, 88) 平均  
  - 無額外缺交懲處  
- Lin  
  - 作業含 1 次 `-1` → 視為 0，取最佳 4 次 → (90, 85, 70, 60) 平均  
  - 作業 **只有 1 次缺交** → 不觸發額外扣分  
- Chen  
  - 作業含 1 次 `-1` → 視為 0，取最佳 4 次 → (60, 50, 40, 30) 平均  
  - 僅 1 次缺交 → 不觸發額外扣分  
- Liu  
  - 全滿分狀態

> ※ 若某生有 **兩次以上** `-1` 作業，從第 2 次起每多 1 次期末總分額外扣 5（下限 0）。

---

## 💻 Python 參考程式
```python
import math

def round1(x):
    return round(x + 1e-8, 1)

def letter_grade(score):
    if score >= 90: return "A"
    if score >= 80: return "B"
    if score >= 70: return "C"
    if score >= 60: return "D"
    return "E"

S = int(input().strip())
rows = []
for _ in range(S):
    parts = input().split()
    name = parts[0]
    nums = list(map(int, parts[1:]))

    # 拆分各項
    hw = nums[0:5]
    qz = nums[5:8]
    mid, fin = nums[8], nums[9]

    # 缺交 -1 視為 0 分（計算用）
    hw_0 = [0 if x == -1 else x for x in hw]
    qz_0 = [0 if x == -1 else x for x in qz]
    mid_0 = 0 if mid == -1 else mid
    fin_0 = 0 if fin == -1 else fin

    # 作業：5 取最佳 4
    hw_sorted = sorted(hw_0, reverse=True)
    hw_best4_avg = sum(hw_sorted[:4]) / 4.0

    # 小考：3 取最佳 2
    qz_sorted = sorted(qz_0, reverse=True)
    qz_best2_avg = sum(qz_sorted[:2]) / 2.0

    # 原始加權總分
    raw = (hw_best4_avg * 0.40 +
           qz_best2_avg * 0.20 +
           mid_0 * 0.20 +
           fin_0 * 0.20)

    # 額外缺交懲處（作業缺交次數）
    hw_miss = sum(1 for x in hw if x == -1)
    extra_miss = max(0, hw_miss - 1)  # 第二次缺交起算
    penalty = 5 * extra_miss
    raw_after_penalty = max(0.0, raw - penalty)

    rows.append({
        "name": name,
        "raw": raw_after_penalty  # 原始分（含缺交懲處）
    })

# 班級原始平均
raw_avg = sum(r["raw"] for r in rows) / len(rows) if rows else 0.0

# 調分：若原始平均 < 70，同加 Δ 使平均達 70（上限 100）
delta = 0.0
if raw_avg < 70:
    delta = 70 - raw_avg

for r in rows:
    r["curved"] = min(100.0, r["raw"] + delta)
    r["grade"]  = letter_grade(r["curved"])
    r["pass"]   = "及格" if r["curved"] >= 60 else "不及格"

# 排序（由高到低）以便找 Top3 與顯示
rows_sorted = sorted(rows, key=lambda x: (-x["curved"], x["name"]))

# 個別輸出
for r in rows_sorted:
    print(f'{r["name"]}  原始={round1(r["raw"])}  調分={round1(r["curved"])}  等第={r["grade"]}  ({r["pass"]})')

# 班級統計
curved_avg = sum(r["curved"] for r in rows) / len(rows) if rows else 0.0
top = rows_sorted[0]
bottom = rows_sorted[-1]
top3 = rows_sorted[:3]

print(f'班級原始平均={round1(raw_avg)}  調分平均={round1(curved_avg)}  調分加分={round1(delta)}')
print(f'最高={round1(top["curved"])}({top["name"]})  最低={round1(bottom["curved"])}({bottom["name"]})')
print("Top3: " + ", ".join(f'{t["name"]}({round1(t["curved"])})' for t in top3))
```

---

## ✅ 教學重點
- **條件＋迴圈＋清單運算**整合應用  
- **資料前處理**：缺交標記（-1）→ 0、再做「取最佳」  
- **加權計分與政策實作**（捨去最低、缺交懲處）  
- **統計彙整**：平均、極值、排名、Top K  
- **公平性議題**：全班調分策略（可延伸討論）

---

## 🔧 延伸挑戰
- 讓權重、取最佳次數、扣分規則改為由輸入檔設定（參數化）  
- 支援多科目（每科一行，最後輸出總平均與名次）  
- 產出 CSV 報表（姓名、原始、調分、等第、是否及格）  
- 不同調分策略（以標準差做線性拉伸、Z 分數常模等）
